(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[303],{76638:function(e,t,n){"use strict";var i=n(64836);t.Z=void 0;var r=i(n(64938)),s=n(85893),l=(0,r.default)((0,s.jsx)("path",{d:"M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8z"}),"Home");t.Z=l},47962:function(e,t,n){"use strict";var i=n(64836);t.Z=void 0;var r=i(n(64938)),s=n(85893),l=(0,r.default)((0,s.jsx)("path",{d:"M4 6H2v14c0 1.1.9 2 2 2h14v-2H4V6zm16-4H8c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2zm-1 9H9V9h10v2zm-4 4H9v-2h6v2zm4-8H9V5h10v2z"}),"LibraryBooks");t.Z=l},83765:function(e,t,n){"use strict";var i=n(64836);t.Z=void 0;var r=i(n(64938)),s=n(85893),l=(0,r.default)((0,s.jsx)("path",{d:"M7 18c-1.1 0-1.99.9-1.99 2S5.9 22 7 22s2-.9 2-2-.9-2-2-2zM1 3c0 .55.45 1 1 1h1l3.6 7.59-1.35 2.44C4.52 15.37 5.48 17 7 17h11c.55 0 1-.45 1-1s-.45-1-1-1H7l1.1-2h7.45c.75 0 1.41-.41 1.75-1.03l3.58-6.49c.37-.66-.11-1.48-.87-1.48H5.21l-.67-1.43c-.16-.35-.52-.57-.9-.57H2c-.55 0-1 .45-1 1zm16 15c-1.1 0-1.99.9-1.99 2s.89 2 1.99 2 2-.9 2-2-.9-2-2-2z"}),"ShoppingCartRounded");t.Z=l},26145:function(e,t,n){"use strict";var i=n(64836);t.Z=void 0;var r=i(n(64938)),s=n(85893),l=(0,r.default)((0,s.jsx)("path",{d:"M20 2H4c-1.1 0-2 .9-2 2v18l4-4h14c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2zM9 11H7V9h2v2zm4 0h-2V9h2v2zm4 0h-2V9h2v2z"}),"SmsRounded");t.Z=l},35969:function(e,t,n){"use strict";n.d(t,{Z:function(){return g}});var i=n(87462),r=n(63366),s=n(67294);n(76607);var l=n(86010),a=n(94780),o=n(81719),c=n(78884),d=n(1588),u=n(34867);function h(e){return(0,u.Z)("MuiBottomNavigation",e)}(0,d.Z)("MuiBottomNavigation",["root"]);var m=n(85893);let x=["children","className","component","onChange","showLabels","value"],v=e=>{let{classes:t}=e;return(0,a.Z)({root:["root"]},h,t)},j=(0,o.ZP)("div",{name:"MuiBottomNavigation",slot:"Root",overridesResolver:(e,t)=>t.root})(({theme:e})=>({display:"flex",justifyContent:"center",height:56,backgroundColor:(e.vars||e).palette.background.paper})),p=s.forwardRef(function(e,t){let n=(0,c.Z)({props:e,name:"MuiBottomNavigation"}),{children:a,className:o,component:d="div",onChange:u,showLabels:h=!1,value:p}=n,g=(0,r.Z)(n,x),Z=(0,i.Z)({},n,{component:d,showLabels:h}),f=v(Z);return(0,m.jsx)(j,(0,i.Z)({as:d,className:(0,l.Z)(f.root,o),ref:t,ownerState:Z},g,{children:s.Children.map(a,(e,t)=>{if(!s.isValidElement(e))return null;let n=void 0===e.props.value?t:e.props.value;return s.cloneElement(e,{selected:n===p,showLabel:void 0!==e.props.showLabel?e.props.showLabel:h,value:n,onChange:u})})}))});var g=p},29898:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/rate-and-review/[id]",function(){return n(77266)}])},77266:function(e,t,n){"use strict";n.r(t),n.d(t,{__N_SSP:function(){return q},default:function(){return G}});var i=n(85893),r=n(67294),s=n(40793),l=n(57542),a=n(74121),o=n(46941),c=n(11163),d=n(45269),u=n(9473),h=n(19545),m=n(62722),x=n(62135),v=n(22120),j=n(36508);let p=e=>{let{setType:t,type:n,moduleType:r}=e,{t:s}=(0,v.$G)();return(0,i.jsx)(m.Z,{orientation:"horizontal",variant:"scrollable",scrollButtons:"auto","aria-label":"scrollable auto tabs example",children:(0,i.jsxs)(x.Z,{children:["parcel"!==r&&(0,i.jsx)(j.Ks,{background:"items"===n,onClick:()=>t("items"),sx:{width:{xs:"80px",md:"100px"}},children:s("Items")}),(0,i.jsx)(j.Ks,{background:"delivery_man"===n,onClick:()=>t("delivery_man"),sx:{width:"100px"},children:s("Delivery man")})]})})};p.propTypes={};var g=n(82175),Z=n(79072),f=n(9144),w=n(31812),y=n(42492),b=n(44373),_=n(58861),S=n(86501),C=n(88767),I=n(60274),P=n(61176);let z=async e=>{let{data:t}=await P.Z.post("".concat(I.mM),e);return t},R=()=>(0,C.useMutation)("submit-review",z);var D=n(27559),N=n(67759),V=n(89113);let H=e=>{var t,n,r,s;let{data:l}=e,{t:a}=(0,v.$G)(),{configData:o}=(0,u.v9)(e=>e.configData),c=null==o?void 0:null===(t=o.base_urls)||void 0===t?void 0:t.item_image_url,{mutate:h,isLoading:m,error:x}=R(),j=(0,g.TA)({initialValues:{rating:"",comment:""},async onSubmit(e,t){try{C(e)}catch(n){}}}),p=e=>{j.setFieldValue("rating",e)},C=e=>{let t={...e,delivery_man_id:null,item_id:null==l?void 0:l.item_id,order_id:null==l?void 0:l.order_id};h(t,{onSuccess(e){S.ZP.success(null==e?void 0:e.message)},onError:N.R})},I=localStorage.getItem("direction");return(0,i.jsx)(d.Xw,{children:(0,i.jsx)("form",{onSubmit:j.handleSubmit,children:(0,i.jsxs)(Z.ZP,{container:!0,spacing:2,children:[(0,i.jsx)(Z.ZP,{item:!0,xs:12,md:12,children:(0,i.jsxs)(d.Xw,{direction:"row",justifyContent:"space-between",alignItems:"center",children:[(0,i.jsxs)(f.Z,{direction:"row",justifyContent:"space-between",alignItems:"center",spacing:1,gap:"rtl"===I?"1rem":"0rem",children:[(0,i.jsx)(_.Z,{src:"".concat(c,"/").concat(null==l?void 0:null===(n=l.item_details)||void 0===n?void 0:n.image),width:"100px",height:"90px"}),(0,i.jsxs)(f.Z,{children:[(0,i.jsx)(d.n2,{children:null==l?void 0:null===(r=l.item_details)||void 0===r?void 0:r.name}),(0,i.jsx)(d.n2,{children:(0,V.B9)(null==l?void 0:null===(s=l.item_details)||void 0===s?void 0:s.price)})]})]}),(0,i.jsxs)(f.Z,{direction:"row",spacing:.5,alignItems:"center",children:[(0,i.jsx)(d.mI,{sx:{fontSize:"18px"},children:a("Quantity")}),(0,i.jsx)(d.mI,{sx:{fontSize:"18px"},children:":"}),(0,i.jsx)(d.i5,{color:"primary.main",sx:{fontSize:"18px"},children:null==l?void 0:l.quantity})]})]})}),(0,i.jsx)(Z.ZP,{item:!0,xs:12,md:12,children:(0,i.jsx)(b.Z,{sx:{width:"100%"}})}),(0,i.jsx)(Z.ZP,{item:!0,xs:12,md:12,align:"center",children:(0,i.jsxs)(f.Z,{alignItems:"center",children:[(0,i.jsx)(d.mI,{sx:{fontSize:"18px"},children:a("Rate the item")}),(0,i.jsx)(D.Z,{handleChangeRatings:p,ratingValue:j.values.rating})]})}),(0,i.jsx)(Z.ZP,{item:!0,xs:12,md:12,align:"center",children:(0,i.jsxs)(f.Z,{alignItems:"center",spacing:1,children:[(0,i.jsx)(d.mI,{sx:{fontSize:"18px"},children:a("Share your opinion")}),(0,i.jsx)(y.Z,{type:"text",label:a("Comment"),touched:j.touched.comment,errors:j.errors.comment,fieldProps:j.getFieldProps("comment"),multiline:!0,rows:2,value:j.values.comment})]})}),(0,i.jsx)(Z.ZP,{item:!0,xs:12,md:12,mt:"1rem",children:(0,i.jsx)(w.Z,{fullWidth:!0,variant:"contained",type:"submit",loading:m,children:a("Submit")})})]})})})};H.propTypes={};var k=n(57412);let E=()=>(0,i.jsx)(d.iD,{children:(0,i.jsx)(d.Xw,{children:(0,i.jsxs)(Z.ZP,{container:!0,spacing:2,children:[(0,i.jsx)(Z.ZP,{item:!0,xs:12,md:12,children:(0,i.jsxs)(d.Xw,{direction:"row",justifyContent:"space-between",alignItems:"center",children:[(0,i.jsxs)(f.Z,{direction:"row",justifyContent:"space-between",alignItems:"center",spacing:1,children:[(0,i.jsx)(k.Z,{variant:"rectangle",width:"100px",height:"90px"}),(0,i.jsxs)(f.Z,{children:[(0,i.jsx)(d.n2,{children:(0,i.jsx)(k.Z,{variant:"text",width:"90px"})}),(0,i.jsx)(d.n2,{children:(0,i.jsx)(k.Z,{variant:"text",width:"90px"})})]})]}),(0,i.jsx)(f.Z,{direction:"row",spacing:.5,alignItems:"center",children:(0,i.jsx)(k.Z,{variant:"text",width:"130px"})})]})}),(0,i.jsx)(Z.ZP,{item:!0,xs:12,md:12,children:(0,i.jsx)(b.Z,{sx:{width:"100%"}})}),(0,i.jsx)(Z.ZP,{item:!0,xs:12,md:12,align:"center",children:(0,i.jsxs)(f.Z,{alignItems:"center",children:[(0,i.jsx)(k.Z,{variant:"text",width:"130px"}),(0,i.jsx)(k.Z,{variant:"text",width:"130px"})]})}),(0,i.jsx)(Z.ZP,{item:!0,xs:12,md:12,align:"center",children:(0,i.jsxs)(f.Z,{alignItems:"center",spacing:1,children:[(0,i.jsx)(k.Z,{variant:"text",width:"130px"}),(0,i.jsx)(k.Z,{variant:"rectangle",height:"80px",width:"100%"})]})}),(0,i.jsx)(Z.ZP,{item:!0,xs:12,md:12,mt:"1rem",children:(0,i.jsx)(k.Z,{variant:"rectangle",height:"35px",width:"100%"})})]})})}),M=async e=>{let{data:t}=await P.Z.post("".concat(I.Fp),e);return t},X=()=>(0,C.useMutation)("submit-review-deliveryman",M),L=e=>{var t;let{data:n,orderId:r}=e,{t:s}=(0,v.$G)(),{configData:l}=(0,u.v9)(e=>e.configData),a=null==l?void 0:null===(t=l.base_urls)||void 0===t?void 0:t.delivery_man_image_url,{mutate:o,isLoading:c,error:h}=X(),m=(0,g.TA)({initialValues:{rating:"",comment:""},async onSubmit(e,t){try{j(e)}catch(n){}}}),x=e=>{m.setFieldValue("rating",e)},j=e=>{let t={...e,delivery_man_id:null==n?void 0:n.id,order_id:r};o(t,{onSuccess(e){S.ZP.success(null==e?void 0:e.message)},onError:N.R})};return(0,i.jsx)(d.Xw,{children:(0,i.jsx)("form",{onSubmit:m.handleSubmit,children:(0,i.jsxs)(Z.ZP,{container:!0,spacing:2,children:[(0,i.jsx)(Z.ZP,{item:!0,xs:12,md:12,children:(0,i.jsx)(d.Xw,{direction:"row",justifyContent:"space-between",alignItems:"center",children:(0,i.jsxs)(f.Z,{direction:"row",justifyContent:"space-between",alignItems:"center",spacing:1,children:[(0,i.jsx)(_.Z,{src:"".concat(a,"/").concat(null==n?void 0:n.image),width:"100px",height:"90px"}),(0,i.jsxs)(f.Z,{children:[(0,i.jsx)(d.n2,{children:null==n?void 0:n.f_name.concat(" ",null==n?void 0:n.l_name)}),n&&(0,i.jsx)(D.Z,{readOnly:!0,handleChangeRatings:x,ratingValue:null==n?void 0:n.avg_rating})]})]})})}),(0,i.jsx)(Z.ZP,{item:!0,xs:12,md:12,children:(0,i.jsx)(b.Z,{sx:{width:"100%"}})}),(0,i.jsx)(Z.ZP,{item:!0,xs:12,md:12,align:"center",children:(0,i.jsxs)(f.Z,{alignItems:"center",children:[(0,i.jsx)(d.mI,{sx:{fontSize:"18px"},children:s("Rate the deliveryman")}),(0,i.jsx)(D.Z,{handleChangeRatings:x,ratingValue:m.values.rating})]})}),(0,i.jsx)(Z.ZP,{item:!0,xs:12,md:12,align:"center",children:(0,i.jsxs)(f.Z,{alignItems:"center",spacing:1,children:[(0,i.jsx)(d.mI,{sx:{fontSize:"18px"},children:s("Share your opinion")}),(0,i.jsx)(y.Z,{type:"text",label:s("Comment"),touched:m.touched.comment,errors:m.errors.comment,fieldProps:m.getFieldProps("comment"),multiline:!0,rows:2,value:m.values.comment})]})}),(0,i.jsx)(Z.ZP,{item:!0,xs:12,md:12,mt:"1rem",children:(0,i.jsx)(w.Z,{fullWidth:!0,variant:"contained",type:"submit",loading:c,children:s("Submit")})})]})})})};L.propTypes={};var O=n(24073),T=n(58797),F=n(3715),B=n(77274);let W=()=>{let{deliveryManInfo:e}=(0,u.v9)(e=>e.searchFilterStore),[t,n]=(0,r.useState)("items"),s=(0,c.useRouter)(),{id:l}=s.query,{refetch:a,data:o,isRefetching:m}=(0,h.Z)(l),{refetch:x,data:v,isRefetching:j}=(0,O.Z)(l);return(0,r.useEffect)(()=>{l&&a()&&x()},[l]),(0,i.jsxs)(d.Xw,{alignItems:"center",justifyContent:"center",spacing:2,children:[m?(0,i.jsx)(k.Z,{variant:"ractangle",width:"100px",height:"100%"}):e&&(null==o?void 0:o.module_type)!=="parcel"&&(0,i.jsx)(p,{setType:n,type:t,moduleType:null==o?void 0:o.module_type}),(0,i.jsx)(d.Xw,{alignItems:"center",justifyContent:"center",spacing:3,children:"items"===t&&(null==o?void 0:o.module_type)!=="parcel"?o?null==o?void 0:o.map((e,t)=>(0,i.jsx)(d.iD,{children:(0,i.jsx)(H,{data:e})},t)):(0,i.jsx)(E,{}):(0,i.jsx)(d.iD,{children:(null==v?void 0:v.delivery_man)?(0,i.jsx)(L,{data:null==v?void 0:v.delivery_man,orderId:l}):(0,i.jsx)(d.Xw,{justifyContent:"center",alignItems:"center",children:(0,i.jsx)(B.Z,{width:"100%",alignItems:"center",justifyContent:"center",height:"100%",children:(0,i.jsx)(T.Z,{label:"No delivery man assigned for the delivery.",image:F.Z})})})})})]})},$=e=>{let{configData:t,landingPageData:n}=e,r=(0,c.useRouter)();return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(a.default,{title:"Rate and Review - ".concat(null==t?void 0:t.business_name)}),(0,i.jsx)(s.ZP,{}),(0,i.jsx)(o.Z,{from:r.pathname.replace("/",""),children:(0,i.jsx)(l.Z,{configData:t,landingPageData:n,children:(0,i.jsx)(W,{})})})]})};var q=!0,G=$},19545:function(e,t,n){"use strict";n.d(t,{Z:function(){return o}});var i=n(61176),r=n(60274),s=n(88767),l=n(67759);let a=async e=>{let{data:t}=await i.Z.get("".concat(r.WH,"?order_id=").concat(e));return t};function o(e){return(0,s.useQuery)("order-details",()=>a(e),{enabled:!1,onError:l.f})}},24073:function(e,t,n){"use strict";n.d(t,{Z:function(){return o}});var i=n(61176),r=n(60274),s=n(88767),l=n(67759);let a=async e=>{let{data:t}=await i.Z.get("".concat(r.NP,"?order_id=").concat(e));return t};function o(e){return(0,s.useQuery)("track-order-data",()=>a(e),{enabled:!1,onError:l.f})}},57542:function(e,t,n){"use strict";n.d(t,{Z:function(){return k}});var i=n(85893),r=n(67294),s=n(45697),l=n.n(s),a=n(37685),o=n(25118),c=n(20580),d=n(45269),u=n(47962),h=n(76638),m=n(26145),x=n(83765),v=n(36111),j=n(40077);n(73782);var p=n(81401),g=n(35969),Z=n(60082),f=n(53523),w=n(51126),y=n(13080),b=n(11163),_=n(9473),S=n(58345);let C={maxWidth:2e3,width:"100%",height:"100%",padding:"0px 1rem"},I=()=>{var e,t,n;let{wishLists:s}=(0,_.v9)(e=>e.wishList),{cartList:l}=(0,_.v9)(e=>e.cart),{selectedModule:a}=(0,_.v9)(e=>e.utilsData),o=(null==s?void 0:null===(e=s.item)||void 0===e?void 0:e.length)+(null==s?void 0:null===(t=s.store)||void 0===t?void 0:t.length),[c,I]=(0,r.useState)(!1),P=(0,b.useRouter)(),z=P.pathname.replace("/",""),R=()=>{I(!0)};return(0,i.jsx)(d.Xw,{children:(0,i.jsxs)(p.Z,{sx:{position:"fixed",bottom:0,left:0,right:0,padding:"5px",width:"100%",zIndex:111},elevation:3,children:[(0,i.jsx)(j.Z,{style:C,children:(0,i.jsxs)(g.Z,{value:z,onChange(e,t){"cart"!==t&&P.push("/".concat(t),void 0,{shallow:!0})},showLabels:!0,children:[(0,i.jsx)(f.rj,{label:(0,w.t)("Home"),value:"home",icon:(0,i.jsx)(h.Z,{})}),(0,i.jsx)(f.rj,{label:(0,w.t)("My Orders"),value:"my-orders",icon:(0,i.jsx)(Z.Z,{color:"error",children:(0,i.jsx)(u.Z,{})})}),(null==a?void 0:a.module_type)!=="parcel"&&(0,i.jsx)(f.rj,{onClick:()=>R(),label:(0,w.t)("Cart"),value:"cart",icon:(0,i.jsx)(Z.Z,{badgeContent:null===(n=(0,S.l)(l))||void 0===n?void 0:n.length,color:"error",children:(0,i.jsx)(x.Z,{})})}),(0,i.jsx)(f.rj,{label:(0,w.t)("Chat"),value:"chatting",icon:(0,i.jsx)(Z.Z,{badgeContent:0,color:"error",children:(0,i.jsx)(m.Z,{})})}),!!c&&(0,i.jsx)(y.Z,{sideDrawerOpen:c,setSideDrawerOpen:I}),(0,i.jsx)(f.rj,{label:(0,w.t)("WishList"),value:"wishlist",icon:(0,i.jsx)(Z.Z,{badgeContent:o,color:"error",children:(0,i.jsx)(v.Z,{})})})]})}),!!c&&(0,i.jsx)(y.Z,{sideDrawerOpen:c,setSideDrawerOpen:I,cartList:l})]})})};var P=r.memo(I),z=n(62097),R=n(61225),D=n(28332),N=n(38579),V=n(67493);let H=e=>{let{children:t,configData:n,landingPageData:s}=e,[l,u]=(0,r.useState)(!1),{data:h,refetch:m}=(0,N.Z)();(0,z.Z)();let x=(0,R.Z)("(max-width:1180px)"),v=(0,b.useRouter)(),j=(0,_.I0)();if((0,r.useEffect)(()=>{"/home"===v.pathname&&m()},[]),h){var p;let g=null===(p=JSON.parse(localStorage.getItem("module")))||void 0===p?void 0:p.module_type;if(0===h.length)localStorage.removeItem("module"),v.push("/",void 0,{shallow:!0});else if(!(null==h?void 0:h.find(e=>e.module_type===g))){let Z=h[0];localStorage.setItem("module",JSON.stringify(Z)),j((0,V.$w)(Z))}}return(0,i.jsxs)(c.U,{justifyContent:"space-between",children:[(0,i.jsx)("header",{children:(0,i.jsx)(a.Z,{configData:n})}),(0,i.jsx)(d.Xw,{mt:x?"5rem":"7rem",children:(0,i.jsx)(d.Xw,{sx:{minHeight:"70vh"},children:(0,i.jsx)(D.Z,{children:t})})}),(0,i.jsx)("footer",{children:(0,i.jsx)(o.Z,{configData:n,landingPageData:s})}),x&&(0,i.jsx)(P,{})]},l)};H.propTypes={children:l().node};var k=r.memo(H)},46941:function(e,t,n){"use strict";var i=n(85893),r=n(67294),s=n(11163);let l=e=>{let{children:t,from:n}=e,l=(0,s.useRouter)(),[a,o]=(0,r.useState)(!1);return((0,r.useEffect)(()=>{if(!l.isReady)return;let e=localStorage.getItem("token");e?o(!0):l.push({pathname:"/auth/sign-in",query:{from:n}},void 0,{shallow:!0})},[l.isReady]),a)?(0,i.jsx)(i.Fragment,{children:t}):null};t.Z=l}},function(e){e.O(0,[1255,2506,6454,5269,580,9774,2888,179],function(){return e(e.s=29898)}),_N_E=e.O()}]);