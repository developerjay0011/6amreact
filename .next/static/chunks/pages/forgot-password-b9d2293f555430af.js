(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9742],{76638:function(e,r,t){"use strict";var o=t(64836);r.Z=void 0;var n=o(t(64938)),s=t(85893),i=(0,n.default)((0,s.jsx)("path",{d:"M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8z"}),"Home");r.Z=i},47962:function(e,r,t){"use strict";var o=t(64836);r.Z=void 0;var n=o(t(64938)),s=t(85893),i=(0,n.default)((0,s.jsx)("path",{d:"M4 6H2v14c0 1.1.9 2 2 2h14v-2H4V6zm16-4H8c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2zm-1 9H9V9h10v2zm-4 4H9v-2h6v2zm4-8H9V5h10v2z"}),"LibraryBooks");r.Z=i},83765:function(e,r,t){"use strict";var o=t(64836);r.Z=void 0;var n=o(t(64938)),s=t(85893),i=(0,n.default)((0,s.jsx)("path",{d:"M7 18c-1.1 0-1.99.9-1.99 2S5.9 22 7 22s2-.9 2-2-.9-2-2-2zM1 3c0 .55.45 1 1 1h1l3.6 7.59-1.35 2.44C4.52 15.37 5.48 17 7 17h11c.55 0 1-.45 1-1s-.45-1-1-1H7l1.1-2h7.45c.75 0 1.41-.41 1.75-1.03l3.58-6.49c.37-.66-.11-1.48-.87-1.48H5.21l-.67-1.43c-.16-.35-.52-.57-.9-.57H2c-.55 0-1 .45-1 1zm16 15c-1.1 0-1.99.9-1.99 2s.89 2 1.99 2 2-.9 2-2-.9-2-2-2z"}),"ShoppingCartRounded");r.Z=i},26145:function(e,r,t){"use strict";var o=t(64836);r.Z=void 0;var n=o(t(64938)),s=t(85893),i=(0,n.default)((0,s.jsx)("path",{d:"M20 2H4c-1.1 0-2 .9-2 2v18l4-4h14c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2zM9 11H7V9h2v2zm4 0h-2V9h2v2zm4 0h-2V9h2v2z"}),"SmsRounded");r.Z=i},22961:function(e,r,t){"use strict";var o=t(64836);r.Z=void 0;var n=o(t(64938)),s=t(85893),i=(0,n.default)((0,s.jsx)("path",{d:"M12 4.5C7 4.5 2.73 7.61 1 12c1.73 4.39 6 7.5 11 7.5s9.27-3.11 11-7.5c-1.73-4.39-6-7.5-11-7.5zM12 17c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5zm0-8c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3z"}),"Visibility");r.Z=i},72450:function(e,r,t){"use strict";var o=t(64836);r.Z=void 0;var n=o(t(64938)),s=t(85893),i=(0,n.default)((0,s.jsx)("path",{d:"M12 7c2.76 0 5 2.24 5 5 0 .65-.13 1.26-.36 1.83l2.92 2.92c1.51-1.26 2.7-2.89 3.43-4.75-1.73-4.39-6-7.5-11-7.5-1.4 0-2.74.25-3.98.7l2.16 2.16C10.74 7.13 11.35 7 12 7zM2 4.27l2.28 2.28.46.46C3.08 8.3 1.78 10.02 1 12c1.73 4.39 6 7.5 11 7.5 1.55 0 3.03-.3 4.38-.84l.42.42L19.73 22 21 20.73 3.27 3 2 4.27zM7.53 9.8l1.55 1.55c-.05.21-.08.43-.08.65 0 1.66 1.34 3 3 3 .22 0 .44-.03.65-.08l1.55 1.55c-.67.33-1.41.53-2.2.53-2.76 0-5-2.24-5-5 0-.79.2-1.53.53-2.2zm4.31-.78 3.15 3.15.02-.16c0-1.66-1.34-3-3-3l-.17.01z"}),"VisibilityOff");r.Z=i},35969:function(e,r,t){"use strict";t.d(r,{Z:function(){return f}});var o=t(87462),n=t(63366),s=t(67294);t(76607);var i=t(86010),a=t(94780),l=t(81719),d=t(78884),c=t(1588),u=t(34867);function h(e){return(0,u.Z)("MuiBottomNavigation",e)}(0,c.Z)("MuiBottomNavigation",["root"]);var p=t(85893);let m=["children","className","component","onChange","showLabels","value"],v=e=>{let{classes:r}=e;return(0,a.Z)({root:["root"]},h,r)},x=(0,l.ZP)("div",{name:"MuiBottomNavigation",slot:"Root",overridesResolver:(e,r)=>r.root})(({theme:e})=>({display:"flex",justifyContent:"center",height:56,backgroundColor:(e.vars||e).palette.background.paper})),j=s.forwardRef(function(e,r){let t=(0,d.Z)({props:e,name:"MuiBottomNavigation"}),{children:a,className:l,component:c="div",onChange:u,showLabels:h=!1,value:j}=t,f=(0,n.Z)(t,m),w=(0,o.Z)({},t,{component:c,showLabels:h}),Z=v(w);return(0,p.jsx)(x,(0,o.Z)({as:c,className:(0,i.Z)(Z.root,l),ref:r,ownerState:w},f,{children:s.Children.map(a,(e,r)=>{if(!s.isValidElement(e))return null;let t=void 0===e.props.value?r:e.props.value;return s.cloneElement(e,{selected:t===j,showLabel:void 0!==e.props.showLabel?e.props.showLabel:h,value:t,onChange:u})})}))});var f=j},91686:function(e,r,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/forgot-password",function(){return t(15491)}])},15491:function(e,r,t){"use strict";t.r(r),t.d(r,{__N_SSP:function(){return A},default:function(){return I}});var o=t(85893),n=t(67294),s=t(30120),i=t(45269),a=t(9144),l=t(29630),d=t(82175),c=t(22120),u=t(9473),h=t(31812),p=t(74231),m=t(86501),v=t(65304),x=t(88767),j=t(61176);let f=async e=>{let{data:r}=await j.Z.post("/api/v1/auth/forgot-password",e);return r},w=e=>{let{onSuccessHandlerForForgotpass:r,onErrorResponse:t}=e;return(0,x.useMutation)("forgot_password",f,{onSuccess:r,onError:t})};var Z=t(67759),g=t(76931),b=t(46573);let _=e=>{let{data:r,goNext:t,handleFirstForm:n}=e,{t:s}=(0,c.$G)(),{configData:x}=(0,u.v9)(e=>e.configData),j=(0,d.TA)({initialValues:{phone:r?r.phone:""},validationSchema:p.Ry({phone:p.Z_().required(s("Please give a phone number")).min(10,"number must be 10 digits")}),async onSubmit(e,r){try{S(e)}catch(t){}}}),f=e=>{e&&(t(),m.ZP.success(e.message))},{mutate:_,isLoading:y}=w({onSuccessHandler:f,onError(e){(0,Z.R)(e)}}),S=e=>{n(e),_(e,{onSuccess:f,onError:Z.R})},C=(0,b.G)()?(0,b.G)():"ltr",k=e=>{j.setFieldValue("phone","+".concat(e))};return(0,o.jsxs)(i.Xw,{children:[(0,o.jsx)(a.Z,{children:(0,o.jsx)(l.Z,{children:s(g.TB)})}),(0,o.jsx)("form",{noValidate:!0,onSubmit:j.handleSubmit,children:(0,o.jsxs)(i.Xw,{mt:"2rem",children:[(0,o.jsx)(v.Z,{value:j.values.phone,onHandleChange:k,initCountry:null==x?void 0:x.country,touched:j.touched.phone,errors:j.errors.phone,lanDirection:C}),(0,o.jsx)(h.Z,{type:"submit",fullWidth:!0,variant:"contained",sx:{mt:3,mb:2},loading:y,children:s("Next")})]})})]})},y=e=>{let{data:r,formSubmitHandler:t,isLoading:n}=e,{t:s}=(0,c.$G)(),u=(0,d.TA)({initialValues:{reset_token:"",phone:null==r?void 0:r.phone},validationSchema:p.Ry({reset_token:p.Z_().required(s("field is empty"))}),async onSubmit(e){try{t(e)}catch(r){}}});return(0,o.jsx)(i.iD,{width:"auto",noboxshadow:"true",children:(0,o.jsxs)(i.Xw,{children:[(0,o.jsxs)(a.Z,{alignItems:"center",justifyContent:"center",children:[(0,o.jsx)(l.Z,{children:s("Enter the verification code (OTP) sent to")}),(0,o.jsx)(l.Z,{children:null==r?void 0:r.phone})]}),(0,o.jsx)("form",{noValidate:!0,onSubmit:u.handleSubmit,children:(0,o.jsxs)(a.Z,{mt:"2rem",padding:"0 20px",alignItems:"center",justifyContent:"center",children:[(0,o.jsx)(i.el,{inputProps:{maxLength:4},width:"100px",onChange:u.handleChange,value:u.values.reset_token,name:"reset_token",error:u.touched.reset_token&&Boolean(u.errors.reset_token),helperText:u.touched.reset_token&&u.errors.reset_token,touched:u.touched.reset_token,required:!0}),(0,o.jsx)(h.Z,{type:"submit",fullWidth:!0,variant:"contained",sx:{mt:3,mb:2},loading:n,children:s("Verify")})]})})]})})};var S=t(58316),C=t(39063),k=t(9041),z=t(80562),N=t(72450),P=t(22961),H=t(32631),M=t(55343),V=t(11163);let E=async e=>{let{data:r}=await j.Z.put("/api/v1/auth/reset-password",e);return r},D=(e,r)=>(0,x.useMutation)("reset_password",E,{onSuccess:e,onError:r}),B=e=>{let{data:r,goBack:t}=e,[u,v]=(0,n.useState)(!1),[x,j]=(0,n.useState)(!1),{t:f}=(0,c.$G)(),w=(0,V.useRouter)(),Z=(0,d.TA)({initialValues:{reset_token:r.reset_token,phone:r.phone,password:"",confirm_password:""},validationSchema:p.Ry({password:p.Z_().required(f("No password provided.")).min(6,f("Password is too short - should be 6 chars minimum.")),confirm_password:p.Z_().required(f("No Confirm Password provided.")).oneOf([p.iH("password"),null],f("Passwords must match"))}),async onSubmit(e,r){try{y(e)}catch(t){}}}),g=e=>{e&&(m.ZP.success(e.message),w.push("/home",void 0,{shallow:!0}))},{mutate:b,isLoading:_}=D(g),y=e=>{b(e,{onSuccess:g})};return(0,o.jsx)(s.Z,{children:(0,o.jsxs)(i.Xw,{children:[(0,o.jsx)(a.Z,{children:(0,o.jsx)(l.Z,{children:f("Enter your new password")})}),(0,o.jsxs)(a.Z,{mt:"2rem",padding:"0 20px",children:[(0,o.jsxs)("form",{noValidate:!0,onSubmit:Z.handleSubmit,children:[(0,o.jsxs)(M.Z,{sx:{mt:2},variant:"outlined",fullWidth:!0,children:[(0,o.jsx)(S.Z,{htmlFor:"outlined-adornment-password",children:f("Password")}),(0,o.jsx)(C.Z,{require:!0,type:u?"text":"password",id:"password",name:"password",value:Z.values.password,onChange:Z.handleChange,error:Z.touched.password&&Boolean(Z.errors.password),helperText:Z.touched.password&&Z.errors.password,touched:Z.touched.password,endAdornment:(0,o.jsx)(k.Z,{position:"end",children:(0,o.jsx)(z.Z,{"aria-label":"toggle password visibility",onClick:()=>v(e=>!e),edge:"end",children:u?(0,o.jsx)(N.Z,{}):(0,o.jsx)(P.Z,{})})}),label:f("Password")}),Z.errors.password&&(0,o.jsx)(H.Z,{sx:{color:"#FF686A"},children:Z.errors.password})]}),(0,o.jsxs)(M.Z,{sx:{mt:2},variant:"outlined",fullWidth:!0,children:[(0,o.jsx)(S.Z,{htmlFor:"outlined-adornment-password",children:f("Confirm Password")}),(0,o.jsx)(C.Z,{require:!0,type:x?"text":"password",id:"confirm_password",name:"confirm_password",value:Z.values.confirm_password,onChange:Z.handleChange,error:Z.touched.confirm_password&&Boolean(Z.errors.confirm_password),helperText:Z.touched.confirm_password&&Z.errors.confirm_password,touched:Z.touched.confirm_password,endAdornment:(0,o.jsx)(k.Z,{position:"end",children:(0,o.jsx)(z.Z,{"aria-label":"toggle password visibility",onClick:()=>j(e=>!e),edge:"end",children:x?(0,o.jsx)(N.Z,{}):(0,o.jsx)(P.Z,{})})}),label:f("Confirm Password")}),Z.errors.confirm_password&&(0,o.jsx)(H.Z,{sx:{color:"#FF686A"},children:Z.errors.confirm_password})]}),(0,o.jsx)(h.Z,{type:"submit",fullWidth:!0,variant:"contained",sx:{mt:3,mb:2},children:f("Done")})]}),(0,o.jsx)(h.Z,{onClick:t,fullWidth:!0,variant:"contained",sx:{mb:2},children:f("Back")})]})]})})},F=async e=>{let{data:r}=await j.Z.post("/api/v1/auth/verify-token",e);return r},L=e=>(0,x.useMutation)("send_otp",F,{onSuccess:e}),R=()=>{let[e,r]=(0,n.useState)(0),[t,a]=(0,n.useState)({phone:"",otp:""}),l=()=>{r(e=>e+1)},d=()=>{r(e=>e-1)},c=e=>{a({phone:e.phone,reset_token:e.reset_token})},u=e=>{e&&l()},{mutate:h,isLoading:p}=L(u),m=e=>{c(e),h(e,{onSuccess:u})};return(0,o.jsx)(s.Z,{minHeight:"50vh",children:(0,o.jsx)(i.E4,{children:(0,o.jsx)(i.J8,{elevation:5,children:0===e?(0,o.jsx)(_,{goNext:l,handleFirstForm:c,data:t}):1===e?(0,o.jsx)(y,{data:t,goBack:d,formSubmitHandler:m,isLoading:p}):(0,o.jsx)(B,{data:t,handleFirstForm:c,goBack:d})})})})};var O=t(74121),T=t(40793),X=t(57542),W=t(79104);let q=e=>{let{configData:r,landingPageData:t}=e;return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(T.ZP,{}),(0,o.jsx)(O.default,{title:"Forgot password - ".concat(null==r?void 0:r.business_name)}),(0,o.jsx)(X.Z,{configData:r,landingPageData:t,children:(0,o.jsx)(W.Z,{children:(0,o.jsx)(R,{})})})]})};var A=!0,I=q},57542:function(e,r,t){"use strict";t.d(r,{Z:function(){return D}});var o=t(85893),n=t(67294),s=t(45697),i=t.n(s),a=t(37685),l=t(25118),d=t(20580),c=t(45269),u=t(47962),h=t(76638),p=t(26145),m=t(83765),v=t(36111),x=t(40077);t(73782);var j=t(81401),f=t(35969),w=t(60082),Z=t(53523),g=t(51126),b=t(13080),_=t(11163),y=t(9473),S=t(58345);let C={maxWidth:2e3,width:"100%",height:"100%",padding:"0px 1rem"},k=()=>{var e,r,t;let{wishLists:s}=(0,y.v9)(e=>e.wishList),{cartList:i}=(0,y.v9)(e=>e.cart),{selectedModule:a}=(0,y.v9)(e=>e.utilsData),l=(null==s?void 0:null===(e=s.item)||void 0===e?void 0:e.length)+(null==s?void 0:null===(r=s.store)||void 0===r?void 0:r.length),[d,k]=(0,n.useState)(!1),z=(0,_.useRouter)(),N=z.pathname.replace("/",""),P=()=>{k(!0)};return(0,o.jsx)(c.Xw,{children:(0,o.jsxs)(j.Z,{sx:{position:"fixed",bottom:0,left:0,right:0,padding:"5px",width:"100%",zIndex:111},elevation:3,children:[(0,o.jsx)(x.Z,{style:C,children:(0,o.jsxs)(f.Z,{value:N,onChange(e,r){"cart"!==r&&z.push("/".concat(r),void 0,{shallow:!0})},showLabels:!0,children:[(0,o.jsx)(Z.rj,{label:(0,g.t)("Home"),value:"home",icon:(0,o.jsx)(h.Z,{})}),(0,o.jsx)(Z.rj,{label:(0,g.t)("My Orders"),value:"my-orders",icon:(0,o.jsx)(w.Z,{color:"error",children:(0,o.jsx)(u.Z,{})})}),(null==a?void 0:a.module_type)!=="parcel"&&(0,o.jsx)(Z.rj,{onClick:()=>P(),label:(0,g.t)("Cart"),value:"cart",icon:(0,o.jsx)(w.Z,{badgeContent:null===(t=(0,S.l)(i))||void 0===t?void 0:t.length,color:"error",children:(0,o.jsx)(m.Z,{})})}),(0,o.jsx)(Z.rj,{label:(0,g.t)("Chat"),value:"chatting",icon:(0,o.jsx)(w.Z,{badgeContent:0,color:"error",children:(0,o.jsx)(p.Z,{})})}),!!d&&(0,o.jsx)(b.Z,{sideDrawerOpen:d,setSideDrawerOpen:k}),(0,o.jsx)(Z.rj,{label:(0,g.t)("WishList"),value:"wishlist",icon:(0,o.jsx)(w.Z,{badgeContent:l,color:"error",children:(0,o.jsx)(v.Z,{})})})]})}),!!d&&(0,o.jsx)(b.Z,{sideDrawerOpen:d,setSideDrawerOpen:k,cartList:i})]})})};var z=n.memo(k),N=t(62097),P=t(61225),H=t(28332),M=t(38579),V=t(67493);let E=e=>{let{children:r,configData:t,landingPageData:s}=e,[i,u]=(0,n.useState)(!1),{data:h,refetch:p}=(0,M.Z)();(0,N.Z)();let m=(0,P.Z)("(max-width:1180px)"),v=(0,_.useRouter)(),x=(0,y.I0)();if((0,n.useEffect)(()=>{"/home"===v.pathname&&p()},[]),h){var j;let f=null===(j=JSON.parse(localStorage.getItem("module")))||void 0===j?void 0:j.module_type;if(0===h.length)localStorage.removeItem("module"),v.push("/",void 0,{shallow:!0});else if(!(null==h?void 0:h.find(e=>e.module_type===f))){let w=h[0];localStorage.setItem("module",JSON.stringify(w)),x((0,V.$w)(w))}}return(0,o.jsxs)(d.U,{justifyContent:"space-between",children:[(0,o.jsx)("header",{children:(0,o.jsx)(a.Z,{configData:t})}),(0,o.jsx)(c.Xw,{mt:m?"5rem":"7rem",children:(0,o.jsx)(c.Xw,{sx:{minHeight:"70vh"},children:(0,o.jsx)(H.Z,{children:r})})}),(0,o.jsx)("footer",{children:(0,o.jsx)(l.Z,{configData:t,landingPageData:s})}),m&&(0,o.jsx)(z,{})]},i)};E.propTypes={children:i().node};var D=n.memo(E)},76931:function(e,r,t){"use strict";t.d(r,{Gw:function(){return i},Hh:function(){return s},TB:function(){return a}});var o=t(37698),n=t(83838);let s="No ".concat((0,o.s)()," found"),i="No ".concat((0,n.p)()," found"),a="Please enter your registered mobile number"}},function(e){e.O(0,[1255,2506,6454,5269,580,9774,2888,179],function(){return e(e.s=91686)}),_N_E=e.O()}]);