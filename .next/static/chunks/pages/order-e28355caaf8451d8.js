(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1941],{76638:function(e,t,n){"use strict";var r=n(64836);t.Z=void 0;var a=r(n(64938)),o=n(85893),i=(0,a.default)((0,o.jsx)("path",{d:"M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8z"}),"Home");t.Z=i},47962:function(e,t,n){"use strict";var r=n(64836);t.Z=void 0;var a=r(n(64938)),o=n(85893),i=(0,a.default)((0,o.jsx)("path",{d:"M4 6H2v14c0 1.1.9 2 2 2h14v-2H4V6zm16-4H8c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2zm-1 9H9V9h10v2zm-4 4H9v-2h6v2zm4-8H9V5h10v2z"}),"LibraryBooks");t.Z=i},83765:function(e,t,n){"use strict";var r=n(64836);t.Z=void 0;var a=r(n(64938)),o=n(85893),i=(0,a.default)((0,o.jsx)("path",{d:"M7 18c-1.1 0-1.99.9-1.99 2S5.9 22 7 22s2-.9 2-2-.9-2-2-2zM1 3c0 .55.45 1 1 1h1l3.6 7.59-1.35 2.44C4.52 15.37 5.48 17 7 17h11c.55 0 1-.45 1-1s-.45-1-1-1H7l1.1-2h7.45c.75 0 1.41-.41 1.75-1.03l3.58-6.49c.37-.66-.11-1.48-.87-1.48H5.21l-.67-1.43c-.16-.35-.52-.57-.9-.57H2c-.55 0-1 .45-1 1zm16 15c-1.1 0-1.99.9-1.99 2s.89 2 1.99 2 2-.9 2-2-.9-2-2-2z"}),"ShoppingCartRounded");t.Z=i},26145:function(e,t,n){"use strict";var r=n(64836);t.Z=void 0;var a=r(n(64938)),o=n(85893),i=(0,a.default)((0,o.jsx)("path",{d:"M20 2H4c-1.1 0-2 .9-2 2v18l4-4h14c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2zM9 11H7V9h2v2zm4 0h-2V9h2v2zm4 0h-2V9h2v2z"}),"SmsRounded");t.Z=i},28973:function(e,t,n){"use strict";var r=n(64836);t.Z=void 0;var a=r(n(64938)),o=n(85893),i=(0,a.default)((0,o.jsx)("path",{d:"M7.06 8.94 5 8l2.06-.94L8 5l.94 2.06L11 8l-2.06.94L8 11l-.94-2.06zM8 21l.94-2.06L11 18l-2.06-.94L8 15l-.94 2.06L5 18l2.06.94L8 21zm-3.63-8.63L3 13l1.37.63L5 15l.63-1.37L7 13l-1.37-.63L5 11l-.63 1.37zM12 12c0-2.73 1.08-5.27 2.75-7.25L12 2h7v7l-2.82-2.82C14.84 7.82 14 9.88 14 12c0 3.32 2.1 6.36 5 7.82V22c-4.09-1.59-7-5.65-7-10z"}),"SwitchAccessShortcut");t.Z=i},35969:function(e,t,n){"use strict";n.d(t,{Z:function(){return j}});var r=n(87462),a=n(63366),o=n(67294);n(76607);var i=n(86010),l=n(94780),s=n(81719),c=n(78884),d=n(1588),u=n(34867);function h(e){return(0,u.Z)("MuiBottomNavigation",e)}(0,d.Z)("MuiBottomNavigation",["root"]);var p=n(85893);let v=["children","className","component","onChange","showLabels","value"],g=e=>{let{classes:t}=e;return(0,l.Z)({root:["root"]},h,t)},x=(0,s.ZP)("div",{name:"MuiBottomNavigation",slot:"Root",overridesResolver:(e,t)=>t.root})(({theme:e})=>({display:"flex",justifyContent:"center",height:56,backgroundColor:(e.vars||e).palette.background.paper})),m=o.forwardRef(function(e,t){let n=(0,c.Z)({props:e,name:"MuiBottomNavigation"}),{children:l,className:s,component:d="div",onChange:u,showLabels:h=!1,value:m}=n,j=(0,a.Z)(n,v),f=(0,r.Z)({},n,{component:d,showLabels:h}),Z=g(f);return(0,p.jsx)(x,(0,r.Z)({as:d,className:(0,i.Z)(Z.root,s),ref:t,ownerState:f},j,{children:o.Children.map(l,(e,t)=>{if(!o.isValidElement(e))return null;let n=void 0===e.props.value?t:e.props.value;return o.cloneElement(e,{selected:n===m,showLabel:void 0!==e.props.showLabel?e.props.showLabel:h,value:n,onChange:u})})}))});var j=m},18625:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/order",function(){return n(60546)}])},60546:function(e,t,n){"use strict";n.r(t),n.d(t,{__N_SSP:function(){return W},default:function(){return F}});var r=n(85893),a=n(67294),o=n(57542),i=n(45269),l=n(77274),s=n(54225),c=n(29630),d=n(11163),u=n.n(d),h=n(9473),p={src:"/_next/static/media/giftbox.0cb1485d.gif",height:640,width:640},v=n(22120),g=n(9144),x=n(77591),m=n(81261),j=n(23614),f=n(58861),Z=n(90603);let y=e=>{let{configData:t,total:n}=e,o=(0,d.useRouter)(),{t:l}=(0,v.$G)(),[u,y]=(0,a.useState)(0),w=(0,h.I0)();return(0,a.useEffect)(()=>{w((0,j.aE)()),w((0,j.L8)()),n?y(n):localStorage.getItem("totalAmount")&&y(localStorage.getItem("totalAmount"))},[]),(0,r.jsx)(i.Xw,{height:"100%",alignItems:"center",justifyContent:"center",spacing:2,children:(0,r.jsxs)(i.Xw,{alignItems:"center",justifyContent:"center",spacing:1,children:[(0,r.jsx)(c.Z,{align:"center",sx:{fontSize:24},color:"text.secondary",gutterBottom:!0,children:l("You place the order successfully.")}),(0,r.jsx)(c.Z,{align:"center",sx:{mb:1.5},color:"text.secondary",children:l("Your order is placed Successfully. We start our delivery process and you will receive your ".concat("food"===(0,Z.X)()?"food":"parcel"===(0,Z.X)()?"parcel":"order"," soon."))}),(null==t?void 0:t.loyalty_point_status)===1&&(0,r.jsxs)(i.Xw,{alignItems:"center",children:[(0,r.jsx)(f.Z,{src:p.src,width:"140px",borderRadius:".6rem",objectfit:"contain"}),(0,r.jsx)(i.i5,{color:"primary",variant:"h3",children:l("Congratulations!")}),(0,r.jsxs)(g.Z,{width:"100%",alignItems:"center",justifyContent:"center",direction:"row",spacing:.5,flexWrap:"wrap",children:[(0,r.jsx)(c.Z,{align:"center",variant:"body2",children:l("You have earned")}),(0,r.jsx)(x.ZT,{align:"center",variant:"body2",children:(()=>{if(u&&(null==t?void 0:t.loyalty_point_status)===1)return(0,m.J2)(u/100*(null==t?void 0:t.loyalty_point_item_purchase_point),null==t?void 0:t.digit_after_decimal_point)})()}),(0,r.jsx)(c.Z,{align:"center",variant:"body2",children:l("point.")}),(0,r.jsx)(c.Z,{align:"center",variant:"body2",children:l("It will add to your balance when the order is delivered.")})]})]}),(0,r.jsx)(g.Z,{pt:"2rem",children:(0,r.jsx)(s.Z,{onClick:()=>o.push("/home",void 0,{shallow:!0}),variant:"contained",children:l("Back to home")})})]})})};var w=n(91359),b=n(62026),_=n(86390),C=n(57412),S=n(88767),L=n(86501),k=n(67019),z=n(94859),M=n(67759),O=n(31812),I=n(28973),D=n(48746),R=n(80591),E=n(91326);let H=e=>{var t,n,o;let{id:i}=e,[l,s]=(0,a.useState)(!1),[d,p]=(0,a.useState)(null),{t:x}=(0,v.$G)(),m=(0,h.I0)(),{data:f,refetch:Z}=(0,R.B)();(0,a.useEffect)(()=>{Z().then()},[]);let y=JSON.parse(window.localStorage.getItem("currentLatLng")),{data:w}=(0,S.useQuery)(["zoneId",location],async()=>E.K.getZoneId(y),{retry:1}),b={order_id:i,_method:"put"},{mutate:H,isLoading:N}=(0,S.useMutation)("order-payment-method-update",k.R.FailedPaymentMethodUpdate),{mutate:P,isLoading:A}=(0,S.useMutation)("order-payment-method-update",k.R.FailedPaymentMethodCancel),X=e=>{L.Am.success(e.data.message),m((0,j.aE)()),s(!1),u().push("/home",void 0,{shallow:!0})},B=()=>{m((0,j.aE)()),P({...b,reason:"Order payment canceled"},{onSuccess:X,onError:M.R}),u().push("/home",void 0,{shallow:!0})},W=()=>{B()},F=()=>{H(b,{onSuccess:X,onError:M.R})};return(0,r.jsxs)(z.p,{children:[(0,r.jsxs)(g.Z,{width:"100%",alignItems:"center",justifyContent:"center",spacing:2,children:[(0,r.jsx)(I.Z,{sx:{fontSize:"50px",mb:"10px",color:e=>e.palette.primary.main}}),(0,r.jsx)(c.Z,{children:x("Are you agree with this order fail?")}),w?(0,r.jsxs)(g.Z,{spacing:2,children:[(null==w?void 0:null===(t=w.data)||void 0===t?void 0:null===(n=t.zone_data)||void 0===n?void 0:null===(o=n[0])||void 0===o?void 0:o.cash_on_delivery)&&(0,r.jsx)(O.Z,{loading:N,variant:"contained",fullWidth:!0,onClick:F,children:x("Switch to Cash On Delivery")}),(0,r.jsx)(O.Z,{sx:{backgroundColor:e=>e.palette.error.main,"&:hover":{backgroundColor:e=>e.palette.error.dark}},variant:"contained",fullWidth:!0,onClick:()=>W(),loading:A,children:x("Cancel Order")})]}):(0,r.jsx)(C.Z,{variant:"ractangle",width:"200px",height:"20px"})]}),(0,r.jsx)(_.Z,{openModal:l,setModalOpen:s,handleClose:()=>s(!1),children:(0,r.jsx)(D.Z,{cancelReason:d,setCancelReason:p,cancelReasonsData:f,setModalOpen:s,handleOnSuccess:B,orderLoading:N})})]})};H.propTypes={};let N=e=>{let{configData:t}=e,[n,o]=(0,a.useState)(!1),{t:i}=(0,v.$G)();return setTimeout(()=>{o(!0)},500),(0,r.jsxs)(a.Fragment,{children:[(0,r.jsxs)(w.Z,{children:[(0,r.jsx)(c.Z,{align:"center",sx:{fontSize:24},color:"text.secondary",gutterBottom:!0,children:i("Order Place Failed")}),(0,r.jsx)(c.Z,{align:"center",sx:{mb:1.5},color:"text.secondary",children:i("Order didn't place successfully.")})]}),(0,r.jsx)(b.Z,{sx:{alignItems:"center"},children:(0,r.jsx)(s.Z,{onClick:()=>router.push("/home",void 0,{shallow:!0}),variant:"contained",fullWidth:!0,children:i("Back to home")})}),(0,r.jsx)(_.Z,{openModal:n,setModalOpen:o,disableAutoFocus:!0,children:(0,r.jsx)(H,{id:e.id,configData:t})})]})};N.propTypes={};let P=e=>{let{configData:t}=e,n=(0,d.useRouter)(),{status:a,totalAmount:o,order_id:s}=n.query,{t:c}=(0,v.$G)(),{total:u}=n.query;return(0,r.jsx)(r.Fragment,{children:n.isReady&&(0,r.jsx)(l.Z,{width:"100%",height:"100%",mb:"3rem",alignItems:"center",justifyContent:"center",children:(0,r.jsx)(i.iD,{children:a&&"fail"===a||"cancel"===a?(0,r.jsx)(N,{id:s,configData:t}):(0,r.jsx)(y,{configData:t,total:u})})})})};var A=n(40793),X=n(74121);let B=e=>{let{configData:t,landingPageData:n}=e;return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(A.ZP,{}),(0,r.jsx)(X.default,{title:"Order - ".concat(null==t?void 0:t.business_name)}),(0,r.jsx)(o.Z,{configData:t,landingPageData:n,children:(0,r.jsx)(P,{configData:t})})]})};B.propTypes={};var W=!0,F=B},67019:function(e,t,n){"use strict";n.d(t,{R:function(){return a}});var r=n(61176);let a={placeOrder:e=>r.Z.post("/api/v1/customer/order/place",e),prescriptionPlaceOrder(e){let{store_id:t,distance:n,address:a,longitude:o,latitude:i,prescriptionImages:l,order_note:s}=e,c=new FormData;return c.append("store_id",t),c.append("distance",n),c.append("address",a),c.append("longitude",o),c.append("latitude",i),l.forEach(e=>{c.append("order_attachment[]",e)}),c.append("order_note",s),r.Z.post("/api/v1/customer/order/prescription/place",c)},orderHistory:(e,t,n)=>r.Z.get("/api/v1/customer/order/".concat(e,"?limit=").concat(t,"&offset=").concat(n)),orderDetails:e=>r.Z.get("/api/v1/customer/order/details?order_id=".concat(e)),orderTracking:e=>r.Z.get("/api/v1/customer/order/track?order_id=".concat(e)),CancelOrder:e=>r.Z.post("/api/v1/customer/order/cancel",e),FailedPaymentMethodUpdate:e=>r.Z.post("/api/v1/customer/order/payment-method",e),FailedPaymentMethodCancel:e=>r.Z.post("/api/v1/customer/order/cancel",e)}},91326:function(e,t,n){"use strict";n.d(t,{K:function(){return a}});var r=n(61176);let a={placeApiAutocomplete(e){if(e&&""!==e)return r.Z.get("/api/v1/config/place-api-autocomplete?search_text=".concat(e))},placeApiDetails:e=>r.Z.get("/api/v1/config/place-api-details?placeid=".concat(e)),getZoneId:e=>r.Z.get("/api/v1/config/get-zone-id?lat=".concat(e.lat,"&lng=").concat(e.lng)),distanceApi:(e,t)=>r.Z.get("/api/v1/config/distance-api?origin_lat=".concat(e.latitude,"&origin_lng=").concat(e.longitude,"&destination_lat=").concat(t.lat?t.lat:null==t?void 0:t.latitude,"&destination_lng=").concat(t.lng?t.lng:null==t?void 0:t.longitude,"&mode=walking")),geoCodeApi:e=>r.Z.get("/api/v1/config/geocode-api?lat=".concat(e.lat,"&lng=").concat(e.lng))}},80591:function(e,t,n){"use strict";n.d(t,{B:function(){return l}});var r=n(88767),a=n(61176),o=n(67759);let i=async()=>{let{data:e}=await a.Z.get("api/v1/customer/order/cancellation-reasons?offset=1&limit=10&type=customer");return e},l=()=>(0,r.useQuery)("cancel-reasons",()=>i(),{enabled:!1,onError:o.f})},57542:function(e,t,n){"use strict";n.d(t,{Z:function(){return E}});var r=n(85893),a=n(67294),o=n(45697),i=n.n(o),l=n(37685),s=n(25118),c=n(20580),d=n(45269),u=n(47962),h=n(76638),p=n(26145),v=n(83765),g=n(36111),x=n(40077);n(73782);var m=n(81401),j=n(35969),f=n(60082),Z=n(53523),y=n(51126),w=n(13080),b=n(11163),_=n(9473),C=n(58345);let S={maxWidth:2e3,width:"100%",height:"100%",padding:"0px 1rem"},L=()=>{var e,t,n;let{wishLists:o}=(0,_.v9)(e=>e.wishList),{cartList:i}=(0,_.v9)(e=>e.cart),{selectedModule:l}=(0,_.v9)(e=>e.utilsData),s=(null==o?void 0:null===(e=o.item)||void 0===e?void 0:e.length)+(null==o?void 0:null===(t=o.store)||void 0===t?void 0:t.length),[c,L]=(0,a.useState)(!1),k=(0,b.useRouter)(),z=k.pathname.replace("/",""),M=()=>{L(!0)};return(0,r.jsx)(d.Xw,{children:(0,r.jsxs)(m.Z,{sx:{position:"fixed",bottom:0,left:0,right:0,padding:"5px",width:"100%",zIndex:111},elevation:3,children:[(0,r.jsx)(x.Z,{style:S,children:(0,r.jsxs)(j.Z,{value:z,onChange(e,t){"cart"!==t&&k.push("/".concat(t),void 0,{shallow:!0})},showLabels:!0,children:[(0,r.jsx)(Z.rj,{label:(0,y.t)("Home"),value:"home",icon:(0,r.jsx)(h.Z,{})}),(0,r.jsx)(Z.rj,{label:(0,y.t)("My Orders"),value:"my-orders",icon:(0,r.jsx)(f.Z,{color:"error",children:(0,r.jsx)(u.Z,{})})}),(null==l?void 0:l.module_type)!=="parcel"&&(0,r.jsx)(Z.rj,{onClick:()=>M(),label:(0,y.t)("Cart"),value:"cart",icon:(0,r.jsx)(f.Z,{badgeContent:null===(n=(0,C.l)(i))||void 0===n?void 0:n.length,color:"error",children:(0,r.jsx)(v.Z,{})})}),(0,r.jsx)(Z.rj,{label:(0,y.t)("Chat"),value:"chatting",icon:(0,r.jsx)(f.Z,{badgeContent:0,color:"error",children:(0,r.jsx)(p.Z,{})})}),!!c&&(0,r.jsx)(w.Z,{sideDrawerOpen:c,setSideDrawerOpen:L}),(0,r.jsx)(Z.rj,{label:(0,y.t)("WishList"),value:"wishlist",icon:(0,r.jsx)(f.Z,{badgeContent:s,color:"error",children:(0,r.jsx)(g.Z,{})})})]})}),!!c&&(0,r.jsx)(w.Z,{sideDrawerOpen:c,setSideDrawerOpen:L,cartList:i})]})})};var k=a.memo(L),z=n(62097),M=n(61225),O=n(28332),I=n(38579),D=n(67493);let R=e=>{let{children:t,configData:n,landingPageData:o}=e,[i,u]=(0,a.useState)(!1),{data:h,refetch:p}=(0,I.Z)();(0,z.Z)();let v=(0,M.Z)("(max-width:1180px)"),g=(0,b.useRouter)(),x=(0,_.I0)();if((0,a.useEffect)(()=>{"/home"===g.pathname&&p()},[]),h){var m;let j=null===(m=JSON.parse(localStorage.getItem("module")))||void 0===m?void 0:m.module_type;if(0===h.length)localStorage.removeItem("module"),g.push("/",void 0,{shallow:!0});else if(!(null==h?void 0:h.find(e=>e.module_type===j))){let f=h[0];localStorage.setItem("module",JSON.stringify(f)),x((0,D.$w)(f))}}return(0,r.jsxs)(c.U,{justifyContent:"space-between",children:[(0,r.jsx)("header",{children:(0,r.jsx)(l.Z,{configData:n})}),(0,r.jsx)(d.Xw,{mt:v?"5rem":"7rem",children:(0,r.jsx)(d.Xw,{sx:{minHeight:"70vh"},children:(0,r.jsx)(O.Z,{children:t})})}),(0,r.jsx)("footer",{children:(0,r.jsx)(s.Z,{configData:n,landingPageData:o})}),v&&(0,r.jsx)(k,{})]},i)};R.propTypes={children:i().node};var E=a.memo(R)},48746:function(e,t,n){"use strict";var r=n(85893),a=n(67294),o=n(77745),i=n(29630),l=n(51126),s=n(95398),c=n(22841),d=n(41470),u=n(55343),h=n(8519),p=n(76779),v=n(9144),g=n(54225),x=n(31812),m=n(87086),j=n(45269);let f=e=>{var t,n;let{cancelReason:f,orderLoading:Z,setCancelReason:y,cancelReasonsData:w,setModalOpen:b,handleOnSuccess:_}=e,[C,S]=(0,a.useState)(),L=e=>{y(e.target.value)},k=()=>{b(!1)};return(0,r.jsx)(m.f,{width:"22rem",children:(0,r.jsxs)(j.Xw,{spacing:1,children:[(0,r.jsx)(o.Z,{id:"alert-dialog-title",sx:{padding:"10px 24px"},children:(0,r.jsx)(i.Z,{textAlign:"center",variant:"h6",children:(0,l.t)("Whatâ€™s Wrong With This Order?")})}),(0,r.jsx)(s.Z,{sx:{padding:"10px 24px"},children:(0,r.jsx)(j.Xw,{children:(0,r.jsxs)(u.Z,{component:"fieldset",children:[(0,r.jsx)(i.Z,{fontWeight:"600",variant:"h6",paddingY:".5rem",children:(0,l.t)("Cancel Reason")}),(0,r.jsx)(d.Z,{"aria-label":"gender",name:"gender1",value:f,onChange:L,children:w&&(null==w?void 0:null===(t=w.data)||void 0===t?void 0:t.length)>0&&(null==w?void 0:null===(n=w.data)||void 0===n?void 0:n.map(e=>(0,r.jsx)(c.Z,{value:e.reason,checked:e.reason==f&&f,editable:!0,control:(0,r.jsx)(h.Z,{}),label:e.reason},null==e?void 0:e.id)))})]})})}),(0,r.jsx)(p.Z,{sx:{paddingX:"20px"},children:(0,r.jsxs)(v.Z,{direction:"row",alignItems:"center",justifyContent:"center",width:"100%",spacing:2,children:[(0,r.jsx)(g.Z,{variant:"contained",onClick:k,sx:{width:"100%",backgroundColor:e=>e.palette.neutral[300],color:e=>e.palette.neutral[1e3],"&:hover":{backgroundColor:e=>e.palette.neutral[400]}},children:(0,l.t)("Back")}),(0,r.jsx)(x.Z,{loading:Z,onClick:_,variant:"contained",sx:{width:"100%"},children:(0,l.t)("Submit")})]})})]})})};t.Z=f},94859:function(e,t,n){"use strict";n.d(t,{p:function(){return o}});var r=n(81719),a=n(81401);let o=(0,r.ZP)(a.Z)(e=>{let{theme:t,minHeight:n,minHeightForCustomCard:r}=e;return{minHeight:n&&"16vh"||r&&"30vh",position:"relative",width:"100%",height:"100%",textAlign:"center",padding:"1.875rem",boxSizing:"border-box",boxShadow:"0px 0px 2px rgba(145, 158, 171, 0.2), 0px 12px 24px -4px rgba(145, 158, 171, 0.1)",border:"1px solid rgba(65, 83, 179, 0.3)",[t.breakpoints.up("sm")]:{minHeight:n&&"14vh"||r&&"20vh"}}})}},function(e){e.O(0,[1255,2506,6454,5269,580,9774,2888,179],function(){return e(e.s=18625)}),_N_E=e.O()}]);